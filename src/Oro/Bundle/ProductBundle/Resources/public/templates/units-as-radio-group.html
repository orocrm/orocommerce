<%
let oroui = _.macros('oroui');
let oroshoppinglist = _.macros('oroshoppinglist');
const radioGroupName = obj.radioGroupName ?? _.uniqueId('name-');
const prepareAttrs = (attrsList) => {
    let attrs = '';
    for (const [key, value] of Object.entries(attrsList)) {
        attrs += ` data-${key}=${value}`;
    }
    return attrs;
};
const radioAttrs = prepareAttrs(obj.radioAttrs || {});
const labelAttrs = prepareAttrs(obj.labelAttrs || {});
%>

<div class="toggle-container-wrapper">
    <% if (obj.title) { %>
    <p class="toggle-container-title">
        <% if (obj.icon) { %><%= oroui.renderIcon({name: icon}) %><% } %>
        <%- _.__(title) %>
    </p>
    <% } %>
    <div class="toggle-container">
        <% _.each(units, (unitLabel, unitValue) => { %>
            <%  const id = _.uniqueId('id-');
                if (_.isObject(unitLabel)) {
                    unitLabel = oroshoppinglist.renderUnit({unit: unitValue, quantity: 1});
                }
            %>
        <input id="<%- id %>"
               name="<%- radioGroupName %>"
               type="radio"
               value="<%- unitValue %>"
               class="toggle-input"
           <% if (obj.selectedValue === unitValue) {%> checked<% } %>
             <%- radioAttrs %>
        >
        <label for="<%- id %>" <%- labelAttrs %>><%- _.__(unitLabel) %></label>
        <% }); %>
    </div>
</div>

