<% let oroui = _.macros('oroui') %>
<% let oroshoppinglist = _.macros('oroshoppinglist') %>
<% let oroproduct = _.macros('oroproduct') %>
<% if (obj.isConfigurable) { %>
    <div class="mobile-row label-in-mobile-start label-bold-in-mobile line-item-configurable" data-label="<%- _metadata.label %>:">
        <% if (quantity) { %>
            <% var formattedQuantity = oroshoppinglist.quantityHelper.formatQuantity(quantity, precision) %>
            <%- _.__('oro.product.product_unit.' + unit + '.value.full', {count: formattedQuantity}, quantity) %>
        <% } else { %>
            <%- _.__('oro.shoppinglist.lineitem.empty_configurable_product') %>
        <% } %>
    </div>
<% } else if (obj.kitHasGeneralError || obj._isKitItemLineItem) { %>
    <div class="line-item-container">
        <% var formattedQuantity = oroshoppinglist.quantityHelper.formatQuantity(quantity, precision) %>
        <%- _.__('oro.product.product_unit.' + unit + '.value.full', {count: formattedQuantity}, quantity) %>
    </div>
<% } else { %>
    <div class="line-item-container">
        <% const _formattedUnit = oroshoppinglist.renderUnit({unit: unitCode, quantity: 1}) %>
        <% if (obj.useInputStepper) { %>
            <div class="form-quantity-row">
                <div tabindex="0"
                     class="input"
                ><%- oroshoppinglist.quantityHelper.formatQuantity(quantity, precision) %></div>
                <button type="button"
                        class="btn btn--simple input-quantity-btn input-quantity-btn--minus"
                        data-type="decrement"
                        aria-label="<%- _.__('oro_frontend.input_widget.step_input.decrease') %>"
                        data-focused=".input-quantity-btn--minus"
                        tabindex="0"
                ><%= oroui.renderIcon({name: 'minus'}) %></button>
                <button type="button"
                        class="btn btn--simple input-quantity-btn input-quantity-btn--plus"
                        data-type="increment"
                        aria-label="<%- _.__('oro_frontend.input_widget.step_input.increase') %>"
                        data-focused=".input-quantity-btn--plus"
                        tabindex="0"
                ><%= oroui.renderIcon({name: 'plus'}) %></button>
            </div>
        <% } else { %>
            <div tabindex="0" class="input input-qty"><%- oroshoppinglist.quantityHelper.formatQuantity(quantity, precision) %></div>
        <% } %>
        <% if (oroproduct.isSingleUnitMode(obj.units)) { %>
            <span class="single-unit"
                  data-role="unit-label"
              <%- oroproduct.UNIT_SELECT_NAME %>="<%- oroproduct.UNIT_SELECT_TYPE.SINGLE %>"
                  data-unit-type=""
            ><%- _formattedUnit.trim() %></span>
        <% } else if (oroproduct.displayUnitsAsGroup(obj.units)) { %>
            <%= oroproduct.renderUnitsAsRadioGroup({
                selectedValue: obj.unitCode,
                units: obj.units,
                markSelectedLabel: true,
                radioAttrs: {
                    role: 'radio-view-mode'
                },
                labelAttrs: {
                    role: 'label-view-mode'
                }
            }) %>
        <% } else { %>
            <div class="select" tabindex="0" data-focused=".select2-container" title="<%- _formattedUnit.trim() %>" <%- oroproduct.UNIT_SELECT_NAME %>="<%- oroproduct.UNIT_SELECT_TYPE.SELECT %>"><%- _formattedUnit.trim() %></div>
        <% } %>
    </div>
<% } %>
